{% load static %}
<!DOCTYPE html>
<html lang="en" style="zoom: 120%;">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guide</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
</head>

<body class="text-center bg-dark text-white d-flex flex-column min-vh-100">

<div class="p-5">
    <header class="masthead mb-auto">
        <div class="inner">
            <h1 class="masthead-brand font-monospace text-decoration-underline mb-3 large">Cubus</h1>
            <h3 class="mb-5">Custom Ubuntu Server</h3>
            <hr class="mb-3 border-2 border-top" style="margin-left: 25%; margin-right: 25%">
            <ul class="nav lead justify-content-center mb-5">
                <li class="nav-item">
                    <a class="nav-link" href="{% url 'index' %}">Home</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{% url 'create' %}">Create</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link active" href="#">Guide</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{% url 'profile' %}">My Cubus</a>
                </li>

            </ul>

        </div>
    </header>
    <main role="main">
        <h5 class="mb-5">How does it work?</h5>
        <p class="mb-5 container">This tool lets you create an ISO image based on Ubuntu Server 22.04 in which you can customize different aspect of your system (e.g. packages and Docker images) and create an automated installation.</p>
        <div class="container d-flex flex-column text-start" style="padding-left: 5%">
            <ul>
                <li class="mb-4">
                    <p>
                        Before you can begin to customize your ISO you have to login to Cubus. To do so, you can access the My Cubus page and insert your credentials.
                        If you don't have a profile yet, you can create one using the link in the login page.
                    </p>
                    <p>
                        With a profile you can check your creations on 'My Cubus' page where you can find all the informations on the systems you've created.
                    </p>
                    <p>
                        Once you have created a profile, you can access the 'Create' page.
                    </p>
                </li>
                <li class="mb-4">
                    <p>
                        Begin your new creation by giving your custom ISO a name.
                    </p>
                </li>
                <li class="mb-4">
                    <p>
                        Choose which type of operating system you want. After you choose an option, you can add your preferred packages to your system.
                    </p>
                </li>
                <li class="mb-4">
                    <p>
                        Every installation comes with Docker included. You can choose whether you'd like to include any Docker images on your system.
                    </p>
                    <p>
                        If you choose to include Docker images you'll have to insert the name of the images that will be pulled from the Docker Hub
                        with the official Docker command (i.e. <i style="font-family:'Lucida Console', monospace">docker pull &#60image name&#62</i>).
                    </p>
                    <p>
                        For this reason, the name of the image you want to include must correspond with the same name used to pull the image.
                        For example, if you want the <i>mongo</i> and <i>mongo express</i> images on your system, just type "mongo" and "mongo-express" in the text area.
                    </p>
                    <p>
                        Please be sure to include only one Docker image for each text area.
                    </p>
                    <p>
                        You can refer to the <a href="https://hub.docker.com/search?q=&operating_system=linux" target="_blank">Docker Hub</a>
                        for information on images name.
                    </p>
                </li>
                <li class="mb-4">
                    <p>
                        When the <i>Generate ISO</i> button appear, you can generate and then download your ISO.
                    </p>
                </li>
                <li class="mb-4">
                    <p>
                        Burn your ISO and start the installation. You'll be grated with the stock Ubuntu Server installation interface (i.e. Subiquity).
                    </p>
                    <p>
                        Fill the information required by the installer like language, keyboard layout, storage configuration, network configuration and identity.
                        The rest will be taken care automatically.
                    </p>
                    <p>
                        Be aware that to be able to install the system correctly you'll need to have an internet connection,
                        this is needed to download the packages required for the custom server.
                        Most of the failure during installations are caused due to the lack of an internet connection or a bad internet connection.
                        During the configuration of the network, be sure that the network is recognise and an IP address is given to your system.
                        This can take some seconds and the address can blink for a moment.
                    </p>
                    <p>
                        <img src="{% static 'images/network_configuration.png' %}" alt="Network Configuration"/>
                    </p>
                    <p>
                        If you are running the server on a virtual machine created with VirtualBox or VMware and you're
                        experiencing problem during the installation, try to set the network via NAT instead of Bridge
                        and try the installation again. Sometimes it happends that a bridged connection does't correctly set an IP
                        to your machine, causing the installation to fail because of the lack of Internet connection.
                        After the installation you can reassign a bridged connection to your virtual machine.
                    </p>
                    <p>
                        The following image shows who to change the network connection on VirtualBox.
                    </p>
                    <p>
                        <img src="{% static 'images/NATvsBridge.png' %}" alt="NAT and Bridge configuration"/>
                    </p>
                    <p>
                        If you choose to configure the storage manually, be careful to give to each partition enough space.
                        If you follow the minimum system requirements shown on the Home page,
                        you shouldn't have any problems. In case the installation fails, try to restart the installer and change the storage configuration.
                    </p>
                    <p>
                        Depending on the number of packages and images that you selected during the creation of the ISO this process may take several minutes.
                        Please wait until a message stating that the installation has finished appear.
                    </p>
                    <p>
                        <img src="{% static 'images/final_installation_messages.png' %}" alt="Installation Finished Message"/>
                    </p>
                </li>
                <li class="mb-4">
                    <p>
                        Restart your system and finish the installation.
                    </p>
                    <p>
                        In order to grant the access to use Docekr freely on your system, some additional configuration will be automatically executed:
                        a 'docker' group will be automatically created and the user created during the installation will be automatically added to such group.
                    </p>
                    <p>
                        At this moment the system will reboot automatically in order for changes to take effect.
                        Once the system has rebooted, you'll be able to log in and use Docekr as you like. Additionally,
                        in case you decided to include some images, they will be automatically pulled from the Docker Hub.
                    </p>
                    <p>
                        As before, depending on the number of images you chose to pull, the size of them and your network connection, this process may take some time.
                    </p>
                </li>
                <li class="mb-4">
                    <p>
                        Every installation comes with Sembo included as well, a dashboard monitoring tool to operate remotely on your system.
                        Give the installation some more time to download all the dependencies needed to run Sembo.
                    </p>
                    <p>
                        You can always access Sembo in a browser by using the server IP address,
                        followed by the port 8050. You can easily show the IP address of your custom server by running
                        the command <i>&#60hostname -I&#62</i>
                    </p>
                </li>
                <li class="mb-4">
                    <p>
                        In case you face any problems during the final installation steps, you can access a hidden file
                        inside the home directory called '.cubusLog'. Inside you can find some log messages that can
                        help you figure out what caused the automatic configuration to fail.
                    </p>
                    <p>
                        When everything has been succesfully installed and configured, the following message will
                        appear, showing the IP address and the port (8050) which you can use to access the Sembo monitoring
                        application through a browser.
                    </p>
                    <p>
                        <img src="{% static 'images/final_message.png' %}" alt="Final Message"/>
                    </p>
                </li>
                <li>
                    <p>
                        Everything is done. You're ready to go!
                    </p>
                </li>
            </ul>
        </div>
    </main>
    <footer class="mt-5 flex-column align-text-bottom">
        <hr class="mt-5 mb-3 border-2 border-top" style="margin-left: 25%; margin-right: 25%">
        <p>
            Virtualization and containerization techniques for secure software deployment
        </p>
    </footer>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"
        integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13"
        crossorigin="anonymous"></script>

</body>

</html>